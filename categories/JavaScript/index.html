
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Zhao Cai">
    <title>Category: JavaScript - Zhao Cai</title>
    <meta name="author" content="Zhao Cai">
    
    
        <link rel="icon" href="https://zhaoc.github.io/assets/images/favicon.png">
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <meta property="og:type" content="blog">
<meta property="og:title" content="Zhao Cai">
<meta property="og:url" content="https://zhaoc.github.io/categories/JavaScript/index.html">
<meta property="og:site_name" content="Zhao Cai">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Zhao Cai">
    
    
        
    
    
        <meta property="og:image" content="https://zhaoc.github.io/assets/images/author.jpg"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-yrst5vo1nxaxbp2g3v9na2wg1lixlpr3ghbjdvskeixmu79deycecx3rh4bt.min.css">
    <!--STYLES END-->
    
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-96114025-1']);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="2">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">Zhao Cai</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
            <img class="header-picture" src="/assets/images/author.jpg" alt="Author&#39;s picture" oncontextmenu="return false;"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="2">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/author.jpg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">Zhao Cai</h4>
                
                    <h5 class="sidebar-profile-bio"><p>What will your verse be?</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/2017/03/08/Gallery/"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-photo"></i>
                        <span class="sidebar-button-desc">Photography</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/zhaoc" target="_blank">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/atom.xml"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-info"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="2"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2018/01/30/JavaScript-Regular-Expression/">
                            JavaScript Regular Expression
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2018-01-30T21:44:13-05:00">
	
		    Jan 30, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/JavaScript/">JavaScript</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <blockquote>
<p>Regular Expression (Regex) is a search pattern, which can be used to find or replace certain text in strings. </p>
</blockquote>
<h3 id="Test-Cases"><a href="#Test-Cases" class="headerlink" title="Test Cases"></a>Test Cases</h3><p><code>Case 1 | Find</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> testStringA = <span class="string">"This is a test string"</span>;</div><div class="line"></div><div class="line"><span class="comment">/* 'g' means global which means to return all matched text in the string */</span></div><div class="line"><span class="comment">/* 'i' means to ignore the case */</span></div><div class="line"><span class="comment">/* check if string contains 'test' */</span></div><div class="line"><span class="keyword">var</span> regexPatternA = <span class="regexp">/test/gi</span>;</div><div class="line"></div><div class="line"><span class="comment">// output: 1</span></div><div class="line"><span class="keyword">var</span> textCountA = testStringA.match(regexPatternA).length;</div></pre></td></tr></table></figure></p>
<p><code>Case 2 | Find</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> testStringB = <span class="string">"This is a test string..."</span>;    </div><div class="line"></div><div class="line"><span class="comment">/* '\' is used to ignore special character */</span></div><div class="line"><span class="comment">/* check if string contains '.' */</span></div><div class="line"><span class="keyword">var</span> regexPatternB = <span class="regexp">/\./gi</span>;</div><div class="line"></div><div class="line"><span class="comment">// output: 3</span></div><div class="line"><span class="keyword">var</span> textCountB = testStringB.match(regexPatternB).length;</div></pre></td></tr></table></figure></p>
<p><code>Case 3 | Find</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> testStringC = <span class="string">"This is a test string with number 12345 ..."</span>;  </div><div class="line"></div><div class="line"><span class="comment">/* '\d+', '\d' means to match digits, '+' means to match one or more digits */</span></div><div class="line"><span class="comment">/* check if string contains '.' */</span></div><div class="line"><span class="keyword">var</span> regexPatternC1 = <span class="regexp">/\d+/gi</span>;</div><div class="line"><span class="keyword">var</span> regexPatternC2 = <span class="regexp">/\d/gi</span>; <span class="comment">// var regexPatternC2 = /[1-9]/gi;</span></div><div class="line"></div><div class="line"><span class="comment">//  output: 1 | ['12345']</span></div><div class="line"><span class="keyword">var</span> textCountC1 = testStringC.match(regexPatternC1).length;</div><div class="line"></div><div class="line"><span class="comment">// output: 5 | ['1', '2', '3', '4', '5']</span></div><div class="line"><span class="keyword">var</span> textCountC2 = testStringC.match(regexPatternC2).length;</div></pre></td></tr></table></figure></p>
<p><code>Case 4 | Replace</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> testString = <span class="string">"This is a test string for function xxx "</span>;  </div><div class="line"></div><div class="line"><span class="comment">/* match text 'xxx' */</span></div><div class="line"><span class="keyword">var</span> regexPattern = <span class="regexp">/xxx/gi</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span> newstring = testString.replace(regexPattern, <span class="string">'Replace'</span>);</div><div class="line"><span class="built_in">console</span>.log(newstring);  <span class="comment">// This is a test string for function Replace</span></div></pre></td></tr></table></figure></p>
<p><code>Case 5 | Test</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// The Regex test() method will return true or false when match a certain string</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> regexNumTest = <span class="regexp">/\d/g</span>; <span class="comment">// test if string contains digits</span></div><div class="line"><span class="keyword">var</span> regexStartTest = <span class="regexp">/^[A-Z]/g</span>; <span class="comment">// test if string start with any word from A-Z </span></div><div class="line"><span class="keyword">var</span> regexEndTest = <span class="regexp">/[0-9]$/g</span>;   <span class="comment">// test if string end with any digits from 0-9</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> testString = <span class="string">"This is a test string for function test"</span>; </div><div class="line">regexNumTest.test(testString); <span class="comment">// false</span></div><div class="line">regexStartTest.test(testString); <span class="comment">// true</span></div><div class="line">regexEndTest.test(testString); <span class="comment">// false</span></div></pre></td></tr></table></figure></p>
<h4 id="Resource"><a href="#Resource" class="headerlink" title="Resource"></a>Resource</h4><p><a href="https://www.debuggex.com/cheatsheet/regex/javascript" target="_blank" rel="external">Regex Cheatsheet</a><br><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="external">MDN - Regualr Expressions</a><br><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test" target="_blank" rel="external">MDN - Regex Test</a><br><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace" target="_blank" rel="external">MDN - String.prototype.replace()</a></p>

                    
                        
                    
                    
                        <p>
                            <a href="/2018/01/30/JavaScript-Regular-Expression/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2017/11/25/Efficient-JavaScript/">
                            Efficient JavaScript
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2017-11-25T18:53:05-05:00">
	
		    Nov 25, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/JavaScript/">JavaScript</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h4 id="1-Usage-of-Unicode-Character"><a href="#1-Usage-of-Unicode-Character" class="headerlink" title="1. Usage of Unicode Character"></a>1. Usage of <code>Unicode Character</code></h4><blockquote>
<p>“I hear and I forget. I see and I remember. I do and I understand.”<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rate = <span class="number">3</span></div><div class="line"><span class="string">"★★★★★☆☆☆☆☆"</span>.slice(<span class="number">5</span> - rate, <span class="number">10</span> - rate);</div></pre></td></tr></table></figure></p>
</blockquote>
<h4 id="2-An-efficient-way-to-handle-JavaScript-exception"><a href="#2-An-efficient-way-to-handle-JavaScript-exception" class="headerlink" title="2. An efficient way to handle JavaScript exception"></a>2. An efficient way to handle JavaScript exception</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// by 'Jordan Hall'</span></div><div class="line"><span class="keyword">try</span> &#123;</div><div class="line">    <span class="comment">//something</span></div><div class="line">&#125; <span class="keyword">catch</span> (e) &#123;</div><div class="line">    <span class="built_in">window</span>.location.href =</div><div class="line">        <span class="string">"http://stackoverflow.com/search?q=[js]+"</span> +</div><div class="line">        e.message;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="3-Locate-all-DOM-elements-visually"><a href="#3-Locate-all-DOM-elements-visually" class="headerlink" title="3. Locate all DOM elements visually"></a>3. Locate all DOM elements visually</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// by 'Addy Osmani' https://addyosmani.com/</span></div><div class="line">[].forEach.call($$(<span class="string">"*"</span>),<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;</div><div class="line">    a.style.outline=<span class="string">"1px solid #"</span>+(~~(<span class="built_in">Math</span>.random()*(<span class="number">1</span>&lt;&lt;<span class="number">24</span>))).toString(<span class="number">16</span>)</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="built_in">Array</span>.prototype.forEach.call(<span class="built_in">document</span>.querySelectorAll(<span class="string">'*'</span>), </div><div class="line">    dom =&gt; dom.style.outline = <span class="string">`1px solid #<span class="subst">$&#123;<span class="built_in">parseInt</span>(<span class="built_in">Math</span>.random() * </span></span></div><div class="line">    <span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">24</span>)).toString(<span class="number">16</span>)&#125;`)</div></pre></td></tr></table></figure>
<h4 id="4-Separate-number-with"><a href="#4-Separate-number-with" class="headerlink" title="4. Separate number with ,"></a>4. Separate number with <code>,</code></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> test1 = <span class="string">'1234567890'</span></div><div class="line"><span class="keyword">var</span> format = test1.replace(<span class="regexp">/\B(?=(\d&#123;3&#125;)+(?!\d))/g</span>, <span class="string">','</span>)</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(format) <span class="comment">//Output:  1,234,567,890</span></div></pre></td></tr></table></figure>
<h4 id="5-An-unofficial-way-to-do-deep-clone-for-JSON-object"><a href="#5-An-unofficial-way-to-do-deep-clone-for-JSON-object" class="headerlink" title="5. An unofficial way to do deep clone for JSON object"></a>5. An unofficial way to do deep clone for JSON object</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = &#123;</div><div class="line">    <span class="attr">a</span>: <span class="number">1</span>,</div><div class="line">    <span class="attr">b</span>: &#123; <span class="attr">c</span>: <span class="number">1</span>, <span class="attr">d</span>: <span class="number">2</span> &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> b=<span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(a))</div></pre></td></tr></table></figure>
<h4 id="6-Implicitly-convert-string-to-number"><a href="#6-Implicitly-convert-string-to-number" class="headerlink" title="6. Implicitly convert string to number"></a>6. Implicitly convert string to number</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a =<span class="number">1</span> </div><div class="line">+a</div></pre></td></tr></table></figure>
<h4 id="7-Usage-of-ES6-Spread-Operator"><a href="#7-Usage-of-ES6-Spread-Operator" class="headerlink" title="7. Usage of ES6 Spread Operator"></a>7. Usage of ES6 <code>Spread Operator</code></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// quickly remove duplicated number</span></div><div class="line">[...new <span class="built_in">Set</span>([<span class="number">2</span>, <span class="string">"2"</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>])] <span class="comment">//output: [2, "2", 3, 4, 1]</span></div><div class="line"></div><div class="line"><span class="comment">// create an array with length 3 and all number 2</span></div><div class="line"><span class="built_in">Array</span>(<span class="number">3</span>).fill(<span class="number">2</span>) <span class="comment">//outpput: [2, 2, 2]</span></div></pre></td></tr></table></figure>
<h4 id="8-Find-Max-and-Min-use-Math"><a href="#8-Find-Max-and-Min-use-Math" class="headerlink" title="8. Find Max and Min use Math"></a>8. Find Max and Min use <code>Math</code></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> numbers = [<span class="number">-99</span>, <span class="number">0</span> , <span class="number">99</span> , <span class="number">98</span> , <span class="number">-1</span>]; </div><div class="line"><span class="keyword">var</span> maxNum = <span class="built_in">Math</span>.max.apply(<span class="built_in">Math</span>, numbers); <span class="comment">// output: 99</span></div><div class="line"><span class="keyword">var</span> minNum = <span class="built_in">Math</span>.min.apply(<span class="built_in">Math</span>, numbers); <span class="comment">// ouput: -99</span></div></pre></td></tr></table></figure>
<h4 id="9-Debugging-tips"><a href="#9-Debugging-tips" class="headerlink" title="9. Debugging tips"></a>9. Debugging tips</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// eye candy for JSON view</span></div><div class="line"><span class="keyword">var</span> fruits = [</div><div class="line">    &#123; <span class="attr">fruit</span>: <span class="string">'Tangerine'</span>, <span class="attr">weight</span>: <span class="number">43</span> &#125;,</div><div class="line">    &#123; <span class="attr">fruit</span>: <span class="string">'Cherry'</span>, <span class="attr">weight</span>: <span class="number">13</span> &#125;,</div><div class="line">    &#123; <span class="attr">fruit</span>: <span class="string">'Litchi'</span>, <span class="attr">weight</span>: <span class="number">25</span> &#125;</div><div class="line">];</div><div class="line"><span class="built_in">console</span>.table(fruits);</div><div class="line"></div><div class="line"><span class="comment">// output code snippets execution time period</span></div><div class="line"><span class="built_in">console</span>.time(<span class="string">'Timer01'</span>);</div><div class="line"><span class="keyword">var</span> items = [];</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++)&#123;</div><div class="line">    items.push(&#123;<span class="attr">index</span>: i&#125;);</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.timeEnd(<span class="string">'Timer01'</span>);</div></pre></td></tr></table></figure>
<h4 id="10-Remove-Timers-from-Global-Scope"><a href="#10-Remove-Timers-from-Global-Scope" class="headerlink" title="10. Remove Timers from Global Scope"></a>10. Remove Timers from Global Scope</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> highestTimeoutId = setTimeout(<span class="string">";"</span>);</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;hightestTimeoutId; i++)&#123;</div><div class="line">    clearTimeout(i);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
                    
                        
                    
                    
                        <p>
                            <a href="/2017/11/25/Efficient-JavaScript/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2017/11/05/Usage-of-fetch/">
                            Usage of fetch()
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2017-11-05T19:43:59-05:00">
	
		    Nov 05, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/JavaScript/">JavaScript</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <blockquote>
<p>“The world and your career are unpredictable, so you are better off learning subjects of permanent value”       - <a href="http://www.math.tamu.edu/~cyan/Rota/mitless.html" target="_blank" rel="external">Gian-Carlo Rota</a></p>
</blockquote>
<div class="figure center" style="width:;"><a class="fancybox" href="/assets/images/post_images/ship.png" title="" data-fancybox-group=""><img class="fig-img" src="/assets/images/post_images/ship.png" alt="" oncontextmenu="return false;"></a></div><div style="clear:both;"></div>
<p>fetch() is a global method provided by Fetch API which can be used to <code>GET</code> or <code>POST</code> data asynchronously through the network. </p>
<h2 id="GET"><a href="#GET" class="headerlink" title="GET"></a><code>GET</code></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">fetch(<span class="string">"url"</span>, &#123;</div><div class="line">    <span class="attr">method</span>: <span class="string">"GET"</span>,</div><div class="line">    <span class="attr">mode</span>: <span class="string">'cors'</span></div><div class="line">    &#125;</div><div class="line">    <span class="comment">// default method is 'GET' if not provided</span></div><div class="line">    <span class="comment">// add "mode: 'cors'" to send cross orign request</span></div><div class="line">).then(</div><div class="line">    <span class="function"><span class="params">response</span> =&gt;</span> response.json()</div><div class="line">    <span class="comment">// methed json() will convert the ReadableStream to json data format</span></div><div class="line">).then(</div><div class="line">    <span class="function"><span class="params">data</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'Json data retrieved:'</span>, data)</div><div class="line">    <span class="comment">// data is ready for use</span></div><div class="line">);</div><div class="line"></div><div class="line"><span class="comment">// you can also use methods below to extract a body </span></div><div class="line"><span class="comment">// arrayBuffer(), blob(), text(), formData()</span></div></pre></td></tr></table></figure>
<h2 id="POST"><a href="#POST" class="headerlink" title="POST"></a><code>POST</code></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> dataToServer = &#123;....&#125;;</div><div class="line"></div><div class="line">fetch(<span class="string">"url"</span>, &#123;</div><div class="line">    <span class="attr">method</span>: <span class="string">"POST"</span>,</div><div class="line">    <span class="attr">headers</span>: &#123;</div><div class="line">        <span class="attr">Accept</span>: <span class="string">"application/json"</span>,</div><div class="line">        <span class="string">"Content-Type"</span>: <span class="string">"application/json"</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">body</span>: <span class="built_in">JSON</span>.stringify(dataToServer)</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// set headers as needed</span></div><div class="line">).then(</div><div class="line">    <span class="function"><span class="params">response</span> =&gt;</span> response.text()</div><div class="line">    <span class="comment">// response from server</span></div><div class="line">).then(</div><div class="line">    <span class="function"><span class="params">result</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'Result content:'</span>, result)</div><div class="line">).catch(</div><div class="line">    <span class="function"><span class="params">err</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'error meesage'</span>, err.messge)</div><div class="line">);</div></pre></td></tr></table></figure>
<h4 id="Difference-between-fetch-and-jQuery-ajax"><a href="#Difference-between-fetch-and-jQuery-ajax" class="headerlink" title="Difference between fetch() and jQuery.ajax()"></a>Difference between fetch() and jQuery.ajax()</h4><p>From <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch" target="_blank" rel="external">Fetch API</a>:</p>
<blockquote>
<p>The Promise returned from fetch() won’t reject on HTTP error status even if the response is an HTTP 404 or 500. Instead, it will resolve normally (with ok status set to false), and it will only reject on network failure or if anything prevented the request from completing.<br>By default, fetch won’t send or receive any cookies from the server, resulting in unauthenticated requests if the site relies on maintaining a user session (to send cookies, the credentials init option must be set).</p>
</blockquote>

                    
                        
                    
                    
                        <p>
                            <a href="/2017/11/05/Usage-of-fetch/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2017/03/30/observer-design-pattern-in-JavaScript/">
                            A Taste of Observer pattern in JavaScript
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2017-03-30T18:07:48-04:00">
	
		    Mar 30, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/JavaScript/">JavaScript</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p> Observer pattern (also known as Pub/Sub pattern) can be used to help break down a whole application into more loosely coupled modules. </p>
<p> There would be an object (observer collection) maintains a list of events. Those observers (subscriber) will be automatically notified once the event occurs. </p>
<h4 id="Code-Sample"><a href="#Code-Sample" class="headerlink" title="Code Sample:"></a>Code Sample:</h4><blockquote>
<ol>
<li><p>observer subscribes to an event by the event name. ‘globalBroadcaster’ is an observer collection which stores the events subscribed. ‘handler’ is the action observer will make once the event occurs.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">globalBroadcaster.subscribe(<span class="string">'uniqueEventName'</span>, handler);</div></pre></td></tr></table></figure>
</li>
<li><p>Once the event be published, all the subscribers of this event will be notified. parameters could be injected when event published and it can be used by the subscribers. */</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">globalBroadcaster.publish(<span class="string">'uniqueEventName'</span>, parameter1, parameter2, ...);</div></pre></td></tr></table></figure>
</li>
<li><p>Observer can unsubsribe the event in the ‘handler’ after being notified. In this case, observer won’t be notified if same event published again.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">globalBroadcaster.unsubscribe(<span class="string">'uniqueEventName'</span>, handler);</div></pre></td></tr></table></figure>
</li>
</ol>
</blockquote>
<h4 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h4><blockquote>
<p>The biggest benifit of using Sub/Pub pattern comes from the concept of decoupling. Observer A doesn’t need to worry about how the event published or who announces the event, ‘A’ will process its handler once be notified.</p>
<p>The disadvantages also come from decoupling modules. It would be hard for one to draw a clearly workflow since some of the actions processed on the fly. It will cause chaos if not implemented properly. </p>
<p>Anyhow, I like the concept of decoupling, especially in group work.</p>
</blockquote>

                    
                        
                    
                    
                        <p>
                            <a href="/2017/03/30/observer-design-pattern-in-JavaScript/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2017/03/24/A-Taste-of-JavaScript-Promise/">
                            A Taste of JavaScript Promise
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2017-03-24T21:04:58-04:00">
	
		    Mar 24, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/JavaScript/">JavaScript</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <div class="figure center" style="width:;"><a class="fancybox" href="https://camo.githubusercontent.com/87eeaf90bf51aea228fd0e0c14fd9807cc76bd9e/687474703a2f2f7279616e73756b616c652e636f6d2f76697a2f50726f6d6973652e706e67" title="JavaScript Promise" data-fancybox-group="" target="_blank" rel="external"><img class="fig-img" src="https://camo.githubusercontent.com/87eeaf90bf51aea228fd0e0c14fd9807cc76bd9e/687474703a2f2f7279616e73756b616c652e636f6d2f76697a2f50726f6d6973652e706e67" alt="JavaScript Promise" oncontextmenu="return false;"></a><span class="caption">JavaScript Promise</span></div><div style="clear:both;"></div>
<blockquote>
<p>JavaScript Promises are used to track the state of an asynchronous task.</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="comment">/* executor */</span> <span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>&#123;...&#125;);</div></pre></td></tr></table></figure>
<h2 id="Promise-states"><a href="#Promise-states" class="headerlink" title="Promise states"></a>Promise states</h2><ul>
<li>fulfilled - the action relating to the promise successed</li>
<li>rejected - the action relating to the promise failed</li>
<li>pending - hasn’t fulfilled or rejected yet</li>
<li>settled - has fulfilled or rejected</li>
</ul>
<blockquote>
<p>A promise can be <code>resolved to</code> either a promise or thenable, in which case it will store the promise or thenable for later unwrapping.</p>
</blockquote>
<h2 id="how-to-create-a-promise"><a href="#how-to-create-a-promise" class="headerlink" title="how to create a promise"></a>how to create a promise</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>&#123;</div><div class="line">    <span class="comment">//process a task, possibly async, then...</span></div><div class="line">    <span class="keyword">if</span>(<span class="comment">/* task successed */</span>)&#123;</div><div class="line">        resolve(<span class="string">"it worked!"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span>&#123;</div><div class="line">        reject(<span class="built_in">Error</span>(<span class="string">"it  failed!"</span>));</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="how-to-use-promise"><a href="#how-to-use-promise" class="headerlink" title="how to use promise"></a>how to use promise</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">promise.then(<span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(result); <span class="comment">// "it worked!"</span></div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(err); <span class="comment">//"it failed!"</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<blockquote>
<p><code>then()</code> takes two arguments, callback for a success case, and another for the failure case. Both are optional, so you are able to add a callback for the success or failure case only.</p>
</blockquote>
<h4 id="Resources"><a href="#Resources" class="headerlink" title="Resources:"></a>Resources:</h4><p>   <a href="http://www.javascriptkit.com/javatutors/javascriptpromises.shtml" target="_blank" rel="external">Guide to JavaScript Promise</a>， <a href="https://developers.google.com/web/fundamentals/getting-started/primers/promises#promise-api-reference" target="_blank" rel="external">Promise API Reference</a></p>
<hr>
<h3 id="Update-2017-06-11"><a href="#Update-2017-06-11" class="headerlink" title="Update (2017/06/11)"></a>Update (2017/06/11)</h3><blockquote>
<p>The purpose of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function" target="_blank" rel="external">async/await</a> function is to simplify the behavior of using promises synchronously and to perform some behavior on a group of <code>Promises</code>. Just like <code>Promises</code> are similar to structured callbacks, <code>async/await</code> is similar to combining generators and promises.  -MDN</p>
</blockquote>
<p>Also read <a href="https://hackernoon.com/6-reasons-why-javascripts-async-await-blows-promises-away-tutorial-c7ec10518dd9?gi=15da56f7b64f" target="_blank" rel="external">Why Async/Await is better than Promise</a></p>

                    
                        
                    
                    
                        <p>
                            <a href="/2017/03/24/A-Taste-of-JavaScript-Promise/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
        <li class="pagination-number">page 1 of 1</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2021 Zhao Cai. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/author.jpg" alt="Author&#39;s picture" oncontextmenu="return false;"/>
        
            <h4 id="about-card-name">Zhao Cai</h4>
        
            <div id="about-card-bio"><p>What will your verse be?</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Web developer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                Toronto
            </div>
        
    </div>
</div>

        <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-close"></i></span>
            <a href="https://algolia.com" target="_blank" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search"
                    class="form-control input--large search-input" placeholder="Search "
                    autofocus="autofocus"/>
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">no post found</div>
            <div class="results">
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://zhaoc.github.io/2017/03/08/Gallery/">
                            <h3 class="media-heading">Photography</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Mar 8, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://zhaoc.github.io/2017/03/24/A-Taste-of-JavaScript-Promise/">
                            <h3 class="media-heading">A Taste of JavaScript Promise</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Mar 24, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://zhaoc.github.io/2017/03/30/observer-design-pattern-in-JavaScript/">
                            <h3 class="media-heading">A Taste of Observer pattern in JavaScript</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Mar 30, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://zhaoc.github.io/2017/06/05/The-Beauty-of-Diffie-Hellman-Key-Exchange/">
                            <h3 class="media-heading">The Beauty of Diffie-Hellman Key Exchange</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Jun 5, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://zhaoc.github.io/2017/10/10/Create-Your-Own-JavaScript-Library/">
                            <h3 class="media-heading">Create Your Own JavaScript Library</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Oct 10, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://zhaoc.github.io/2017/11/05/Usage-of-fetch/">
                            <h3 class="media-heading">Usage of fetch()</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Nov 5, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium"
                data-message-zero="no post found"
                data-message-one="1 post found"
                data-message-other="{n} posts found">
                8 posts found
            </p>
        </div>
    </div>
</div>
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-rt08quwts7iav5x0cfd2ym0gb5qkd1lvrsmwrakxtkhefmaaes4ywkmnjnwf.min.js"></script>
<!--SCRIPTS END-->



    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment-with-locales.min.js"></script>
    <script src="//cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
    <script>
        var algoliaClient = algoliasearch('NLKNRFY9YW', '1a89f7efe7a1134fff6cb8c3a59de8b8');
        var algoliaIndex = algoliaClient.initIndex('zhao-blog');
    </script>

    </body>
</html>
